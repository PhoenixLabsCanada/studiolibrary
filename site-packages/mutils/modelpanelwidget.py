#Embedded file name: C:/Users/hovel/Dropbox/packages/studioLibrary/1.5.8/build27/studioLibrary\site-packages\mutils\modelpanelwidget.py
from PyQt4 import QtCore, QtGui
import maya.cmds as cmds
import maya.OpenMayaUI as mui
import sip

class ModelPanelWidget(QtGui.QWidget):

    def __init__(self, parent, name = 'customModelPanel', **kwargs):
        super(ModelPanelWidget, self).__init__(parent, **kwargs)
        self.setObjectName('ModelPanelWidget')
        self.verticalLayout = QtGui.QVBoxLayout(self)
        self.verticalLayout.setContentsMargins(0, 0, 0, 0)
        self.verticalLayout.setObjectName('modelPanelLayout')
        layout = mui.MQtUtil.fullName(long(sip.unwrapinstance(self.verticalLayout)))
        cmds.setParent(layout)
        paneLayoutName = cmds.paneLayout()
        ptr = mui.MQtUtil.findControl(paneLayoutName)
        self.paneLayout = sip.wrapinstance(long(ptr), QtCore.QObject)
        self.cameraName = cmds.camera()[0]
        self.modelPanelName = cmds.modelPanel(name, label='ModelPanel', cam=self.cameraName)
        ptr = mui.MQtUtil.findControl(self.modelPanelName)
        self.modelPanel = sip.wrapinstance(long(ptr), QtCore.QObject)
        self.verticalLayout.addWidget(self.paneLayout)

    def showEvent(self, event):
        super(ModelPanelWidget, self).showEvent(event)
        self.modelPanel.repaint()


class ModelPanelWindow(QtGui.QDialog):

    def __init__(self, parent, **kwargs):
        super(ModelPanelWindow, self).__init__(parent, **kwargs)
        self.setObjectName('modelPanelWindow')
        self.resize(800, 600)
        self.setWindowTitle('Qt Model Panel Window')
        self.pushButton = QtGui.QPushButton('>>', self)
        self.pushButton.show()
        self.pushButton.move(25, 25)
        self.verticalLayout = QtGui.QVBoxLayout(self)
        self.verticalLayout.setContentsMargins(0, 0, 0, 0)
        self.verticalLayout.setObjectName('modelPanelWindowLayout')
        self.modelPanelWidget1 = ModelPanelWidget(self, 'modelPanelWidget1')
        self.modelPanelWidget2 = ModelPanelWidget(self, 'modelPanelWidget2')
        self.verticalLayout.addWidget(self.modelPanelWidget1)
        self.verticalLayout.addWidget(self.modelPanelWidget2)


def show():
    ptr = mui.MQtUtil.mainWindow()
    win = sip.wrapinstance(long(ptr), QtCore.QObject)
    d = ModelPanelWindow(win)
    d.show()
    return d


try:
    dialog.deleteLater()
except:
    pass

dialog = show()
